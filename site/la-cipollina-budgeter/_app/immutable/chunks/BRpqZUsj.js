import{C as S,E as B,aw as L,ax as M,i as P,u as U,ay as $,az as g,aA as j,aB as D,q as G,n as E,aC as R,aD as q,aE as K}from"./abUTAAem.js";import{a as W}from"./Dgg-Cmmx.js";import{w as H}from"./DehP6Mmi.js";const J=()=>performance.now(),l={tick:r=>requestAnimationFrame(r),now:()=>J(),tasks:new Set};function z(){const r=l.now();l.tasks.forEach(a=>{a.c(r)||(l.tasks.delete(a),a.f())}),l.tasks.size!==0&&l.tick(z)}function Q(r){let a;return l.tasks.size===0&&l.tick(z),{promise:new Promise(t=>{l.tasks.add(a={c:r,f:t})}),abort(){l.tasks.delete(a)}}}function N(r,a){H(()=>{r.dispatchEvent(new CustomEvent(a))})}function V(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const a=r.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function x(r){const a={},t=r.split(";");for(const i of t){const[f,u]=i.split(":");if(!f||u===void 0)break;const d=V(f.trim());a[d]=u.trim()}return a}const X=r=>r;function ta(r,a,t,i){var f=(r&g)!==0,u=(r&j)!==0,d=f&&u,y=(r&$)!==0,k=d?"both":f?"in":"out",w,v=a.inert,m=a.style.overflow,e,s;function h(){var n=K,p=S;R(null),q(null);try{return w??(w=t()(a,(i==null?void 0:i())??{},{direction:k}))}finally{R(n),q(p)}}var o={is_global:y,in(){var n;if(a.inert=v,!f){s==null||s.abort(),(n=s==null?void 0:s.reset)==null||n.call(s);return}u||e==null||e.abort(),N(a,"introstart"),e=C(a,h(),s,1,()=>{N(a,"introend"),e==null||e.abort(),e=w=void 0,a.style.overflow=m})},out(n){if(!u){n==null||n(),w=void 0;return}a.inert=!0,N(a,"outrostart"),s=C(a,h(),e,0,()=>{N(a,"outroend"),n==null||n()})},stop:()=>{e==null||e.abort(),s==null||s.abort()}},_=S;if((_.transitions??(_.transitions=[])).push(o),f&&W){var T=y;if(!T){for(var c=_.parent;c&&(c.f&B)!==0;)for(;(c=c.parent)&&(c.f&L)===0;);T=!c||(c.f&M)!==0}T&&P(()=>{U(()=>o.in())})}}function C(r,a,t,i,f){var u=i===1;if(D(a)){var d,y=!1;return G(()=>{if(!y){var _=a({direction:u?"in":"out"});d=C(r,_,t,i,f)}}),{abort:()=>{y=!0,d==null||d.abort()},deactivate:()=>d.deactivate(),reset:()=>d.reset(),t:()=>d.t()}}if(t==null||t.deactivate(),!(a!=null&&a.duration))return f(),{abort:E,deactivate:E,reset:E,t:()=>i};const{delay:k=0,css:w,tick:v,easing:m=X}=a;var e=[];if(u&&t===void 0&&(v&&v(0,1),w)){var s=x(w(0,1));e.push(s,s)}var h=()=>1-i,o=r.animate(e,{duration:k,fill:"forwards"});return o.onfinish=()=>{o.cancel();var _=(t==null?void 0:t.t())??1-i;t==null||t.abort();var T=i-_,c=a.duration*Math.abs(T),n=[];if(c>0){var p=!1;if(w)for(var F=Math.ceil(c/16.666666666666668),A=0;A<=F;A+=1){var I=_+T*m(A/F),O=x(w(I,1-I));n.push(O),p||(p=O.overflow==="hidden")}p&&(r.style.overflow="hidden"),h=()=>{var b=o.currentTime;return _+T*m(b/c)},v&&Q(()=>{if(o.playState!=="running")return!1;var b=h();return v(b,1-b),!0})}o=r.animate(n,{duration:c,fill:"forwards"}),o.onfinish=()=>{h=()=>i,v==null||v(i,1-i),f()}},{abort:()=>{o&&(o.cancel(),o.effect=null,o.onfinish=E)},deactivate:()=>{f=E},reset:()=>{i===0&&(v==null||v(1,0))},t:()=>h()}}const Y=r=>r;function ia(r,{delay:a=0,duration:t=400,easing:i=Y}={}){const f=+getComputedStyle(r).opacity;return{delay:a,duration:t,easing:i,css:u=>`opacity: ${u*f}`}}export{ia as f,ta as t};
