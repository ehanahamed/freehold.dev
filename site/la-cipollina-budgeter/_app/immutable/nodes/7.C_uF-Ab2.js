var rn=e=>{throw TypeError(e)};var an=(e,t,n)=>t.has(e)||rn("Cannot "+n);var fe=(e,t,n)=>(an(e,t,"read from private field"),n?n.call(e):t.get(e)),_t=(e,t,n)=>t.has(e)?rn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);var on=(e,t,n)=>(an(e,t,"access private method"),n);import{P as kt}from"../chunks/juNQPxT-.js";import{g as Ee,a as L,e as X,k as qe,d as He}from"../chunks/DehP6Mmi.js";import{i as bn,u as $e,r as Nn,ae as Hn,at as An,a6 as K,aG as wt,p as ke,aS as Ae,aT as Bn,aU as On,aa as we,o as a,a as Ce,t as ie,a2 as q,a4 as I,J as Ct,a8 as k,a0 as it,aV as Wn,a3 as se,v as zn,K as Nt,aW as wn,n as Gn,a7 as ft,ab as $t,aX as Yn,a9 as qn,a5 as gt}from"../chunks/abUTAAem.js";import{a as N,s as xe,f as Xt,c as sn}from"../chunks/DnMzuOnq.js";import{b as ln}from"../chunks/D9w593mb.js";import{c as Qt}from"../chunks/DXYAfnVp.js";import{p as Ne,s as Me,a as l,b as Z,c as pn}from"../chunks/DVTK6F6p.js";import{d as Ue,w as ge,r as Vn,g as xt}from"../chunks/BLWyk4-q.js";import{i as ve}from"../chunks/C1hVJviJ.js";import{e as ze,i as ot}from"../chunks/BddKktbU.js";import{i as Dn}from"../chunks/DWCXjbE0.js";import{s as dn}from"../chunks/Dgg-Cmmx.js";import{b as st}from"../chunks/Dhxvh-rD.js";import{o as kn}from"../chunks/Cf4xNsBj.js";import{s as zt}from"../chunks/BBhd-w28.js";import{B as jn}from"../chunks/V-Q0yVa9.js";import{C as Tt}from"../chunks/DuO0dWcV.js";import{g as Jn}from"../chunks/jZ35Ziga.js";function We(e,t,n){bn(()=>{var r=$e(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var i=!1,o={};Nn(()=>{var s=n();Hn(s),i&&An(o,s)&&(o=s,r.update(s))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function Ht(e){K(e,e.v+1)}async function Kn({fetch:e,url:t}){if(window.localStorage){let n=localStorage.getItem("budgeter:auth");if(!n)return{authed:!1,PUBLIC_API_URL:kt};try{return{authed:!0,weeks:await(await e(kt+"/weeks",{method:"GET",headers:{Authorization:"Bearer "+n}})).json(),PUBLIC_API_URL:kt}}catch(r){return console.error("Error while getting weeks in reports' load func: ",r),{authed:!1,error:!0,PUBLIC_API_URL:kt}}}}const ri=Object.freeze(Object.defineProperty({__proto__:null,load:Kn},Symbol.toStringTag,{value:"Module"}));function Zt(e){return function(t){return t.key==="Enter"||t.key===" "&&!t.preventDefault()?e.call(this,t):void 0}}function ee(e,t){let n={update(r){typeof r=="string"?e.innerText=r:r!=null&&r.domNodes?e.replaceChildren(...r.domNodes):r!=null&&r.html&&(e.innerHTML=r.html)}};return n.update(t),n}function At(e,t){const n=r=>{e&&!e.contains(r.target)&&e.dispatchEvent(new CustomEvent(t+"outside",{detail:{jsEvent:r}}))};return document.addEventListener(t,n,!0),{destroy(){document.removeEventListener(t,n,!0)}}}function Bt(e,t){let n=new ResizeObserver(r=>{for(let i of r)t(i)});return n.observe(e),{destroy(){n.unobserve(e)}}}const Cn=86400;function je(e=void 0){return e!==void 0?e instanceof Date?cn(e):tr(e):cn(new Date)}function ct(e){if(typeof e=="number")e={seconds:e};else if(typeof e=="string"){let n=0,r=2;for(let i of e.split(":",3))n+=parseInt(i,10)*Math.pow(60,r--);e={seconds:n}}else e instanceof Date&&(e={hours:e.getUTCHours(),minutes:e.getUTCMinutes(),seconds:e.getUTCSeconds()});let t=e.weeks||e.week||0;return{years:e.years||e.year||0,months:e.months||e.month||0,days:t*7+(e.days||e.day||0),seconds:(e.hours||e.hour||0)*60*60+(e.minutes||e.minute||0)*60+(e.seconds||e.second||0),inWeeks:!!t}}function J(e){return new Date(e.getTime())}function It(e,t,n=1){e.setUTCFullYear(e.getUTCFullYear()+n*t.years);let r=e.getUTCMonth()+n*t.months;for(e.setUTCMonth(r),r%=12,r<0&&(r+=12);e.getUTCMonth()!==r;)mt(e);return e.setUTCDate(e.getUTCDate()+n*t.days),e.setUTCSeconds(e.getUTCSeconds()+n*t.seconds),e}function Xn(e,t,n=1){return It(e,t,-n)}function Je(e,t=1){return e.setUTCDate(e.getUTCDate()+t),e}function mt(e,t=1){return Je(e,-t)}function Se(e){return e.setUTCHours(0,0,0,0),e}function pe(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}function lt(e,t=19){return e.toISOString().substring(0,t)}function Fe(e,...t){return t.every(n=>e.getTime()===n.getTime())}function Qn(e,t){let n=t-e.getUTCDay();return e.setUTCDate(e.getUTCDate()+(n>=0?n:n+7)),e}function Tn(e,t){let n=t-e.getUTCDay();return e.setUTCDate(e.getUTCDate()+(n<=0?n:n-7)),e}function un(e){return typeof e=="string"&&e.length<=10}function Zn(e,t){return e.setUTCHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),0),e}function Gt(e,t){return It(e,t),e}function Yt(e,t,n){if(Xn(e,t),n.length&&n.length<7)for(;n.includes(e.getUTCDay());)mt(e);return e}function er(e,t){e=J(e),t==0?e.setUTCDate(e.getUTCDate()+6-e.getUTCDay()):e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));let n=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e-n)/1e3/Cn+1)/7)}function cn(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()))}function tr(e){const t=e.match(/\d+/g);return new Date(Date.UTC(Number(t[0]),Number(t[1])-1,Number(t[2]),Number(t[3]||0),Number(t[4]||0),Number(t[5]||0)))}function Dt(...e){return Object.assign(...e)}function Ve(e){return Object.keys(e)}function nr(e){return Object.entries(e)}function rr(...e){return Math.max(...e)}function ar(){return Symbol("ec")}function en(e){return Array.isArray(e)}function ue(e){return typeof e=="function"}function ir(e){return e()}function or(e){e.forEach(ir)}const qt=e=>e;function St(e){return function(t){t.stopPropagation(),e&&e.call(this,t)}}function En(e,t,n){n.update(r=>r.set(t,e))}function sr(e){or(e),e.clear()}function lr(e,t,n){t??(t=e),n.has(t)||n.set(t,setTimeout(()=>{n.delete(t),e()}))}let tn=ar();function $n(e,t){e[tn]=t}function dr(e){return!!(e!=null&&e[tn])}function ur(e){return e[tn]}function xn(e,t,n,r=[]){let i=document.createElement(e);i.className=t,typeof n=="string"?i.innerText=n:n.domNodes?i.replaceChildren(...n.domNodes):n.html&&(i.innerHTML=n.html);for(let o of r)i.setAttribute(...o);return i}function cr(e){return e.scrollHeight>e.clientHeight}function vt(e){return e.getBoundingClientRect()}function Mt(e,t){for(;t--;)e=e.parentElement;return e}function Et(e){return vt(e).height}function Sn(e,t,n=document,r=[]){r.push(n);for(let i of n.elementsFromPoint(e,t)){if(dr(i))return i;if(i.shadowRoot&&!r.includes(i.shadowRoot)){let o=Sn(e,t,i.shadowRoot,r);if(o)return o}}return null}function fr(e,t,n,r){return{type:e,title:t,currentStart:n.start,currentEnd:n.end,activeStart:r.start,activeEnd:r.end,calendar:void 0}}function dt(e){return e=Dt({},e),e.currentStart=pe(e.currentStart),e.currentEnd=pe(e.currentEnd),e.activeStart=pe(e.activeStart),e.activeEnd=pe(e.activeEnd),e}function vr(e){return e.startsWith("list")}let hr=1;function Ut(e){return e.map(t=>{let n={id:"id"in t?String(t.id):`{generated-${hr++}}`,resourceIds:Ot(t,"resourceId").map(String),allDay:t.allDay??(un(t.start)&&un(t.end)),start:je(t.start),end:je(t.end),title:t.title??"",editable:t.editable,startEditable:t.startEditable,durationEditable:t.durationEditable,display:t.display??"auto",extendedProps:t.extendedProps??{},backgroundColor:t.backgroundColor??t.color,textColor:t.textColor,classNames:Ot(t,"className"),styles:Ot(t,"style")};if(n.allDay){Se(n.start);let r=J(n.end);Se(n.end),(!Fe(n.end,r)||Fe(n.end,n.start))&&Je(n.end)}return n})}function Ot(e,t){let n=e[t+"s"]??e[t]??[];return en(n)?n:[n]}function mr(e){return e.map(t=>({events:t.events,url:t.url&&t.url.trimEnd("&")||"",method:t.method&&t.method.toUpperCase()||"GET",extraParams:t.extraParams||{}}))}function Vt(e,t,n){let r={start:e.start>t?e.start:t,end:e.end<n?e.end:n,event:e};return r.zeroDuration=Fe(r.start,r.end),r}function _r(e){e.sort((t,n)=>t.start-n.start||n.event.allDay-t.event.allDay)}function gr(e,t,n,r,i,o){let s=i.formatRange(e.start,t&&e.event.display!=="pointer"&&!e.zeroDuration?Zn(J(e.start),e.end):e.start),c;if(n&&(c=ue(n)?n({event:rt(e.event),timeText:s,view:dt(o)}):n),c===void 0){let u;switch(e.event.display){case"background":u=[];break;case"pointer":u=[fn(s,e,r)];break;default:u=[...e.event.allDay?[]:[fn(s,e,r)],xn("h4",r.eventTitle,e.event.title)]}c={domNodes:u}}return[s,c]}function fn(e,t,n){return xn("time",n.eventTime,e,[["datetime",lt(t.start)]])}function yr(e,t,n){let r=t.classNames;return e&&(ue(e)&&(e=e({event:rt(t),view:dt(n)})),r=[...en(e)?e:[e],...r]),r}function rt(e){return br(e,pe)}function br(e,t){return e=Dt({},e),e.start=t(e.start),e.end=t(e.end),e}function Wt(e,t){let n={};if(e.length){_r(e);let r;for(let i of e){let o=[],s=Se(J(i.start));for(;i.end>s;){if(!t.includes(s.getUTCDay())&&(o.push(J(s)),o.length>1)){let c=s.getTime();n[c]?n[c].chunks.push(i):n[c]={sorted:!1,chunks:[i]}}Je(s)}if(o.length){i.date=o[0],i.days=o.length,i.dates=o,i.start<o[0]&&(i.start=o[0]);let c=Je(J(o.at(-1)));i.end>c&&(i.end=c)}else i.date=Se(J(i.start)),i.days=1,i.dates=[i.date];r&&Fe(r.date,i.date)&&(i.prev=r),r=i}}return n}function wr(e,t,n){e.top=0,e.prev&&(e.top=e.prev.bottom+1),e.bottom=e.top+n;let r=1,i=e.date.getTime();if(t[i]){t[i].sorted||(t[i].chunks.sort((o,s)=>o.top-s.top),t[i].sorted=!0);for(let o of t[i].chunks)if(e.top<o.bottom&&e.bottom>o.top){let s=o.bottom-e.top+1;r+=s,e.top+=s,e.bottom+=s}}return r}function nn(e,t){var r;e.length=t.length;let n=[];for(let i of e)n.push((r=i==null?void 0:i.reposition)==null?void 0:r.call(i));return n}function vn(e,t,n,r){return e.start<n&&e.end>t?r?(en(r)||(r=[r]),r.some(i=>e.resourceIds.includes(i.id))):!0:!1}function Mn(e){return pr(e)||Dr(e)||kr(e)}function pt(e){return e==="background"}function pr(e){return e==="preview"}function Dr(e){return e==="ghost"}function kr(e){return e==="pointer"}function Cr(e){return Tr(e,"month")}function Tr(e,t){return{...e,next:"Next "+t,prev:"Previous "+t}}function Er(e){return t=>({...t,view:e})}function $r(e){let t,n;return e&&({start:t,end:n}=e,t&&(t=Se(je(t))),n&&(n=Se(je(n)))),{start:t,end:n}}function Un(e,t){return t.start&&e<t.start||t.end&&e>t.end}function hn(e,t){return t.start&&e<t.start&&(e=t.start),t.end&&e>t.end&&(e=t.end),e}function xr(e){let t=[];return Rn(e,0,t),t}function Rn(e,t,n){let r=[];for(let i of e){let o=Sr(i);r.push(o),n.push(o);let s={level:t,children:[],expanded:!0,hidden:!1};$n(o,s),i.children&&(s.children=Rn(i.children,t+1,n))}return r}function Sr(e){return{id:String(e.id),title:e.title||"",eventBackgroundColor:e.eventBackgroundColor,eventTextColor:e.eventTextColor,extendedProps:e.extendedProps??{}}}function Mr(e,t){var n;return(n=Pn(e,t))==null?void 0:n.eventBackgroundColor}function Ur(e,t){var n;return(n=Pn(e,t))==null?void 0:n.eventTextColor}function Pn(e,t){return t.find(n=>e.resourceIds.includes(n.id))}function bt(e,t){return Ue([e,t],([n,r])=>{let i=ue(r)?{format:r}:new Intl.DateTimeFormat(n,r);return{format:o=>i.format(pe(o))}})}function mn(e,t){return Ue([e,t],([n,r])=>{let i;if(ue(r))i=r;else{let o=new Intl.DateTimeFormat(n,r);i=(s,c)=>{if(s<=c)return o.formatRange(s,c);{let u=o.formatRangeToParts(c,s),m="",d=["startRange","endRange"],M=[!1,!1];for(let f of u){let v=d.indexOf(f.source);v>=0?M[v]||(m+=Rr(d[1-v],u),M[v]=!0):m+=f.value}return m}}}return{formatRange:(o,s)=>i(pe(o),pe(s))}})}function Rr(e,t){let n="";for(let r of t)r.source==e&&(n+=r.value);return n}function Pr(e){var n;let t={allDayContent:void 0,allDaySlot:!0,buttonText:{today:"today"},customButtons:{},date:new Date,datesSet:void 0,dayHeaderFormat:{weekday:"short",month:"numeric",day:"numeric"},dayHeaderAriaLabelFormat:{dateStyle:"full"},displayEventEnd:!0,duration:{weeks:1},events:[],eventAllUpdated:void 0,eventBackgroundColor:void 0,eventClassNames:void 0,eventClick:void 0,eventColor:void 0,eventContent:void 0,eventDidMount:void 0,eventFilter:void 0,eventMouseEnter:void 0,eventMouseLeave:void 0,eventSources:[],eventTextColor:void 0,eventTimeFormat:{hour:"numeric",minute:"2-digit"},filterEventsWithResources:!1,filterResourcesWithEvents:!1,firstDay:0,flexibleSlotTimeLimits:!1,headerToolbar:{start:"title",center:"",end:"today prev,next"},height:void 0,hiddenDays:[],highlightedDates:[],lazyFetching:!0,loading:void 0,locale:void 0,nowIndicator:!1,resourceLabelContent:void 0,resourceLabelDidMount:void 0,resources:[],selectable:!1,scrollTime:"06:00:00",slotDuration:"00:30:00",slotEventOverlap:!0,slotHeight:24,slotLabelInterval:void 0,slotLabelFormat:{hour:"numeric",minute:"2-digit"},slotMaxTime:"24:00:00",slotMinTime:"00:00:00",slotWidth:72,theme:{allDay:"ec-all-day",active:"ec-active",bgEvent:"ec-bg-event",bgEvents:"ec-bg-events",body:"ec-body",button:"ec-button",buttonGroup:"ec-button-group",calendar:"ec",content:"ec-content",day:"ec-day",dayHead:"ec-day-head",days:"ec-days",disabled:"ec-disabled",event:"ec-event",eventBody:"ec-event-body",eventTime:"ec-event-time",eventTitle:"ec-event-title",events:"ec-events",extra:"ec-extra",handle:"ec-handle",header:"ec-header",hiddenScroll:"ec-hidden-scroll",highlight:"ec-highlight",icon:"ec-icon",line:"ec-line",lines:"ec-lines",minor:"ec-minor",nowIndicator:"ec-now-indicator",otherMonth:"ec-other-month",resource:"ec-resource",sidebar:"ec-sidebar",sidebarTitle:"ec-sidebar-title",today:"ec-today",time:"ec-time",title:"ec-title",toolbar:"ec-toolbar",view:"",weekdays:["ec-sun","ec-mon","ec-tue","ec-wed","ec-thu","ec-fri","ec-sat"],withScroll:"ec-with-scroll"},titleFormat:{year:"numeric",month:"short",day:"numeric"},validRange:void 0,view:void 0,viewDidMount:void 0,views:{}};for(let r of e)(n=r.createOptions)==null||n.call(r,t);return t}function Ir(e){var n;let t={date:r=>Se(je(r)),duration:ct,events:Ut,eventSources:mr,hiddenDays:r=>[...new Set(r)],highlightedDates:r=>r.map(i=>Se(je(i))),resources:xr,scrollTime:ct,slotDuration:ct,slotLabelInterval:r=>r!==void 0?ct(r):void 0,slotMaxTime:ct,slotMinTime:ct,validRange:$r};for(let r of e)(n=r.createParsers)==null||n.call(r,t);return t}function Lr(e,t){let n=[];for(let r of Ve(e))e[r]!==t[r]&&n.push([r,e[r]]);return n}function Fr(e){return Ue(e.view,t=>t==null?void 0:t.startsWith("dayGrid"))}function Nr(e){return Ue([e._currentRange,e.firstDay,e.slotMaxTime,e._dayGrid],([t,n,r,i])=>{let o=J(t.start),s=J(t.end);if(i)Tn(o,n),Qn(s,n);else if(r.days||r.seconds>Cn){It(mt(s),r);let c=mt(J(s));c<o&&(o=c)}return{start:o,end:s}})}function Hr(e){return Ue([e.date,e.duration,e.firstDay],([t,n,r])=>{let i=J(t),o;return n.months?i.setUTCDate(1):n.inWeeks&&Tn(i,r),o=It(J(i),n),{start:i,end:o}})}function Ar(e){return Ue([e._activeRange,e.hiddenDays],([t,n])=>{let r=[],i=Se(J(t.start)),o=Se(J(t.end));for(;i<o;)n.includes(i.getUTCDay())||r.push(J(i)),Je(i);return!r.length&&n.length&&n.length<7&&(e.date.update(s=>{for(;n.includes(s.getUTCDay());)Je(s);return s}),r=xt(e._viewDates)),r})}function Br(e){return Ue([e.date,e._activeRange,e._intlTitle,e._dayGrid],([t,n,r,i])=>i?r.formatRange(t,t):r.formatRange(n.start,mt(J(n.end))))}function Or(e){return Ue([e.view,e._viewTitle,e._currentRange,e._activeRange],t=>fr(...t))}function Wr(e){let t=ge([]),n,r=0,i={};return Ue([e.events,e.eventSources,e._activeRange,e._fetchedRange,e.lazyFetching,e.loading],(o,s)=>En(()=>{let[c,u,m,d,M,f]=o;if(!u.length){s(c);return}if(!d.start||d.start>m.start||d.end<m.end||!M){n&&n.abort(),n=new AbortController,ue(f)&&!r&&f(!0);let v=()=>{--r===0&&ue(f)&&f(!1)},g=[],$=h=>v(),y=h=>{g=g.concat(Ut(h)),s(g),v()},_=lt(m.start),x=lt(m.end);for(let h of u){if(ue(h.events)){let w=h.events({start:pe(m.start),end:pe(m.end),startStr:_,endStr:x},y,$);w!==void 0&&Promise.resolve(w).then(y,$)}else{let w=ue(h.extraParams)?h.extraParams():Dt({},h.extraParams);w.start=_,w.end=x,w=new URLSearchParams(w);let C=h.url,S={},p;["GET","HEAD"].includes(h.method)?C+=(C.includes("?")?"&":"?")+w:(S["content-type"]="application/x-www-form-urlencoded;charset=UTF-8",p=String(w)),fetch(C,{method:h.method,headers:S,body:p,signal:n.signal,credentials:"same-origin"}).then(U=>U.json()).then(y).catch($)}++r}d.start=m.start,d.end=m.end}},i,e._queue),[]).subscribe(t.set),t}function zr(e){let t;e._view.subscribe(r=>t=r);let n={};return Ue([e._events,e.eventFilter],(r,i)=>En(()=>{let[o,s]=r;i(ue(s)?o.filter((c,u,m)=>s({event:c,index:u,events:m,view:t})):o)},n,e._queue),[])}function Gr(){return Vn(je(),e=>{let t=setInterval(()=>{e(je())},1e3);return()=>clearInterval(t)})}function Yr(e){return Ue(e._now,t=>Se(J(t)))}class qr{constructor(t,n){var s,c;t=t||[];let r=Pr(t),i=Ir(t);r=jt(r,i),n=jt(n,i);for(let[u,m]of Object.entries(r))this[u]=ge(m);this._queue=ge(new Map),this._tasks=new Map,this._auxiliary=ge([]),this._dayGrid=Fr(this),this._currentRange=Hr(this),this._activeRange=Nr(this),this._fetchedRange=ge({start:void 0,end:void 0}),this._events=Wr(this),this._now=Gr(),this._today=Yr(this),this._intlEventTime=mn(this.locale,this.eventTimeFormat),this._intlSlotLabel=bt(this.locale,this.slotLabelFormat),this._intlDayHeader=bt(this.locale,this.dayHeaderFormat),this._intlDayHeaderAL=bt(this.locale,this.dayHeaderAriaLabelFormat),this._intlTitle=mn(this.locale,this.titleFormat),this._bodyEl=ge(void 0),this._scrollable=ge(!1),this._recheckScrollable=ge(!1),this._viewTitle=Br(this),this._viewDates=Ar(this),this._view=Or(this),this._viewComponent=ge(void 0),this._filteredEvents=zr(this),this._interaction=ge({}),this._iEvents=ge([null,null]),this._iClasses=ge(qt),this._iClass=ge(void 0),this._set=(u,m)=>{Jt(u,this)&&(i[u]&&(m=i[u](m)),this[u].set(m))},this._get=u=>Jt(u,this)?xt(this[u]):void 0;for(let u of t)(s=u.createStores)==null||s.call(u,this);n.view&&this.view.set(n.view);let o=new Set([...Ve(r.views),...Ve(n.views??{})]);for(let u of o){let m=_n(r,r.views[u]??{}),d=_n(m,n,((c=n.views)==null?void 0:c[u])??{}),M=d.component;Vr(d,this);for(let f of Ve(d)){let{set:v,_set:g=v,...$}=this[f];this[f]={set:["buttonText","theme"].includes(f)?y=>{if(ue(y)){let _=y(m[f]);d[f]=_,v(v===g?_:y)}else d[f]=y,v(y)}:y=>{d[f]=y,v(y)},_set:g,...$}}this.view.subscribe(f=>{if(f===u){this._viewComponent.set(M),ue(d.viewDidMount)&&wt().then(()=>d.viewDidMount(xt(this._view)));for(let v of Ve(d))this[v]._set(d[v])}})}}}function jt(e,t){let n={...e};for(let r of Ve(t))r in n&&(n[r]=t[r](n[r]));if(e.views){n.views={};for(let r of Ve(e.views))n.views[r]=jt(e.views[r],t)}return n}function _n(...e){let t={};for(let n of e){let r={};for(let i of["buttonText","theme"])ue(n[i])&&(r[i]=n[i](t[i]));t={...t,...n,...r}}return t}function Vr(e,t){Ve(e).filter(n=>!Jt(n,t)||n==="view").forEach(n=>delete e[n])}function Jt(e,t){return t.hasOwnProperty(e)&&e[0]!=="_"}var jr=X("<h2></h2>"),Jr=X("<button><i></i></button>"),Kr=X("<button><i></i></button>"),Xr=X("<button> </button>"),Qr=X("<button></button>"),Zr=X("<button> </button>");function gn(e,t){ke(t,!1);const[n,r]=Me(),i=()=>l(T,"$validRange",n),o=()=>l(C,"$date",n),s=()=>l(S,"$duration",n),c=()=>l(p,"$hiddenDays",n),u=()=>l(y,"$_currentRange",n),m=()=>l(x,"$_viewDates",n),d=()=>l(U,"$theme",n),M=()=>l(_,"$_viewTitle",n),f=()=>l(h,"$buttonText",n),v=()=>l(w,"$customButtons",n),g=()=>l(B,"$view",n);let $=Ne(t,"buttons",8),{_currentRange:y,_viewTitle:_,_viewDates:x,buttonText:h,customButtons:w,date:C,duration:S,hiddenDays:p,theme:U,validRange:T,view:B}=Ae("state"),W=Se(je()),z=Ct(),V=Ct(),b=Ct(),E=Ct(!1);function te(){return a(E)}function R(){return m().every(me=>Un(me,i()))}function A(){Z(C,Yt(o(),s(),c()))}function j(){Z(C,Gt(o(),s()))}Bn(()=>(i(),o(),s(),c(),a(b),u(),wt),()=>{if(!te()){if(K(E,!0),K(z,!1),K(V,!1),i().start){let me=J(o());Z(C,Yt(o(),s(),c())),K(z,R()),Z(C,me)}if(i().end){let me=J(o());Z(C,Gt(o(),s())),K(V,R()),Z(C,me)}if(K(b,W>=u().start&&W<u().end),!a(b)&&(i().start||i().end)){let me=J(o());Z(C,J(W)),K(b,R()),Z(C,me)}wt().then(()=>K(E,!1))}}),On(),Dn();var ne=Ee(),he=we(ne);ze(he,1,$,ot,(me,H)=>{var Ke=Ee(),Re=we(Ke);{var Xe=De=>{var le=jr();We(le,(ye,Be)=>ee==null?void 0:ee(ye,Be),M),ie(()=>N(le,1,d().title)),L(De,le)},Qe=(De,le)=>{{var ye=Te=>{var oe=Jr(),Q=q(oe);I(oe),ie(()=>{N(oe,1,`${d().button??""} ec-${a(H)??""}`),xe(oe,"aria-label",f().prev),xe(oe,"title",f().prev),oe.disabled=a(z),N(Q,1,`${d().icon??""} ec-${a(H)??""}`)}),qe("click",oe,A),L(Te,oe)},Be=(Te,oe)=>{{var Q=G=>{var re=Kr(),O=q(re);I(re),ie(()=>{N(re,1,`${d().button??""} ec-${a(H)??""}`),xe(re,"aria-label",f().next),xe(re,"title",f().next),re.disabled=a(V),N(O,1,`${d().icon??""} ec-${a(H)??""}`)}),qe("click",re,j),L(G,re)},P=(G,re)=>{{var O=ce=>{var be=Xr(),at=q(be,!0);I(be),ie(()=>{N(be,1,`${d().button??""} ec-${a(H)??""}`),be.disabled=a(b),dn(at,f()[a(H)])}),qe("click",be,()=>Z(C,J(W))),L(ce,be)},Y=(ce,be)=>{{var at=Ze=>{var et=Qr();bn(()=>qe("click",et,function(...tt){var Oe;(Oe=v()[a(H)].click)==null||Oe.apply(this,tt)})),We(et,(tt,Oe)=>ee==null?void 0:ee(tt,Oe),()=>v()[a(H)].text),ie(()=>N(et,1,`${d().button??""} ec-${a(H)??""}${v()[a(H)].active?" "+d().active:""}`)),L(Ze,et)},ut=(Ze,et)=>{{var tt=Oe=>{var Ge=Zr(),Lt=q(Ge,!0);I(Ge),ie(()=>{N(Ge,1,`${d().button??""}${g()===a(H)?" "+d().active:""} ec-${a(H)??""}`),dn(Lt,f()[a(H)])}),qe("click",Ge,()=>Z(B,a(H))),L(Oe,Ge)};ve(Ze,Oe=>{a(H)!=""&&Oe(tt)},et)}};ve(ce,Ze=>{v()[a(H)]?Ze(at):Ze(ut,!1)},be)}};ve(G,ce=>{a(H)=="today"?ce(O):ce(Y,!1)},re)}};ve(Te,G=>{a(H)=="next"?G(Q):G(P,!1)},oe)}};ve(De,Te=>{a(H)=="prev"?Te(ye):Te(Be,!1)},le)}};ve(Re,De=>{a(H)=="title"?De(Xe):De(Qe,!1)})}L(me,Ke)}),L(e,ne),Ce(),r()}var ea=X("<div><!></div>"),ta=X("<div></div>"),na=X("<nav></nav>");function ra(e,t){ke(t,!0);const[n,r]=Me(),i=()=>l(s,"$headerToolbar",n),o=()=>l(c,"$theme",n);let{headerToolbar:s,theme:c}=Ae("state"),u=k(()=>{var M;let d={};for(let f of["start","center","end"])d[f]=((M=i()[f])==null?void 0:M.split(" ").map(v=>v.split(",")))??[];return d});var m=na();ze(m,21,()=>Ve(a(u)),ot,(d,M)=>{var f=ta();ze(f,21,()=>a(u)[a(M)],ot,(v,g)=>{var $=Ee(),y=we($);{var _=h=>{var w=ea(),C=q(w);gn(C,{get buttons(){return a(g)}}),I(w),ie(()=>N(w,1,o().buttonGroup)),L(h,w)},x=h=>{gn(h,{get buttons(){return a(g)}})};ve(y,h=>{a(g).length>1?h(_):h(x,!1)})}L(v,$)}),I(f),ie(()=>N(f,1,`ec-${a(M)??""}`)),L(d,f)}),I(m),ie(()=>N(m,1,o().toolbar)),L(e,m),Ce(),r()}function aa(e,t){ke(t,!0);const[n,r]=Me(),i=()=>l(y,"$_activeRange",n),o=()=>l(v,"$datesSet",n),s=()=>l(p,"$_view",n),c=()=>l(_,"$_events",n),u=()=>l(g,"$eventAllUpdated",n),m=()=>l(S,"$_queue",n),d=()=>l(C,"$_recheckScrollable",n),M=()=>l(h,"$_bodyEl",n),f=()=>l($,"$_auxiliary",n);let{datesSet:v,eventAllUpdated:g,_auxiliary:$,_activeRange:y,_events:_,_scrollable:x,_bodyEl:h,_tasks:w,_recheckScrollable:C,_queue:S,_view:p}=Ae("state");it(()=>{i(),$e(()=>{ue(o())&&o()({start:pe(i().start),end:pe(i().end),startStr:lt(i().start),endStr:lt(i().end),view:dt(s())})})}),it(()=>{c(),$e(()=>{ue(u())&&lr(()=>u()({view:dt(s())}),"eau",w)})}),it(()=>{m(),$e(()=>{sr(m())})}),it(()=>{d(),$e(()=>{M()&&Z(x,cr(M())),Z(C,!1)})});var U=Ee(),T=we(U);ze(T,1,f,ot,(B,W)=>{var z=Ee(),V=we(z);Qt(V,()=>a(W),(b,E)=>{E(b,{})}),L(B,z)}),L(e,U),Ce(),r()}var ia=X("<div><!> <!></div> <!>",1);function oa(e,t){ke(t,!0);const[n,r]=Me(),i=()=>l(C,"$_events",n),o=()=>l(h,"$_interaction",n),s=()=>l(p,"$date",n),c=()=>l(U,"$duration",n),u=()=>l(T,"$hiddenDays",n),m=()=>l(x,"$_viewComponent",n),d=()=>l(W,"$theme",n),M=()=>l(S,"$_scrollable",n),f=()=>l(w,"$_iClass",n),v=()=>l(B,"$height",n),g=()=>l(z,"$view",n);let $=Ne(t,"plugins",19,()=>[]),y=Ne(t,"options",19,()=>({})),_=new qr($(),y());Wn("state",_);let{_viewComponent:x,_interaction:h,_iClass:w,_events:C,_scrollable:S,date:p,duration:U,hiddenDays:T,height:B,theme:W,view:z}=_,V={...y()};it(()=>{for(let[P,G]of Lr(y(),V))$e(()=>{b(P,G)});Dt(V,y())});function b(P,G){return _._set(P,G),this}function E(P){let G=_._get(P);return G instanceof Date?pe(G):G}function te(){return _._fetchedRange.set({start:void 0,end:void 0}),this}function R(){return i().map(rt)}function A(P){for(let G of i())if(G.id==P)return rt(G);return null}function j(P){return P=Ut([P])[0],i().push(P),Z(C,i()),rt(P)}function ne(P){let G=String(P.id),re=i().findIndex(O=>O.id===G);return re>=0?(pn(C,$e(i)[re]=Ut([P])[0],$e(i)),rt(P)):null}function he(P){P=String(P);let G=i().findIndex(re=>re.id===P);return G>=0&&(i().splice(G,1),Z(C,i())),this}function me(){return dt(xt(_._view))}function H(){var P;return(P=o().action)==null||P.unselect(),this}function Ke(P,G){let re=Sn(P,G);if(re){let O=ur(re)(P,G);return O.date=pe(O.date),O}return null}function Re(){return Z(p,Gt(s(),c())),this}function Xe(){return Z(p,Yt(s(),c(),u())),this}let Qe=k(m);var De=ia(),le=we(De);let ye;var Be=q(le);ra(Be,{});var Te=se(Be,2);Qt(Te,()=>a(Qe),(P,G)=>{G(P,{})}),I(le);var oe=se(le,2);aa(oe,{}),ie(P=>{N(le,1,`${d().calendar??""} ${d().view??""}${M()?" "+d().withScroll:""}${f()?" "+d()[f()]:""}`),xe(le,"role",P),ye=Xt(le,"",ye,{height:v()})},[()=>vr(g())?"list":"table"]),L(e,De);var Q=Ce({setOption:b,getOption:E,refetchEvents:te,getEvents:R,getEventById:A,addEvent:j,updateEvent:ne,removeEventById:he,getView:me,unselect:H,dateFromPoint:Ke,next:Re,prev:Xe});return r(),Q}function sa(e){return Ue([e.date,e.firstDay,e.hiddenDays],([t,n,r])=>{let i=[],o=J(t),s=7;for(;o.getUTCDay()!==n&&s;)mt(o),--s;for(let c=0;c<7;++c)r.includes(o.getUTCDay())||i.push(J(o)),Je(o);return i})}var la=X('<div role="columnheader"><span></span></div>'),da=X('<div><div role="row"></div> <div></div></div>');function ua(e,t){ke(t,!1);const[n,r]=Me(),i=()=>l(u,"$theme",n),o=()=>l(M,"$_days",n),s=()=>l(d,"$_intlDayHeaderAL",n),c=()=>l(m,"$_intlDayHeader",n);let{theme:u,_intlDayHeader:m,_intlDayHeaderAL:d,_days:M}=Ae("state");Dn();var f=da(),v=q(f);ze(v,5,o,ot,($,y)=>{var _=la(),x=q(_);We(x,(h,w)=>ee==null?void 0:ee(h,w),()=>c().format(a(y))),I(_),ie((h,w)=>{N(_,1,`${i().day??""} ${h??""}`),xe(x,"aria-label",w)},[()=>{var h;return(h=i().weekdays)==null?void 0:h[a(y).getUTCDay()]},()=>s().format(a(y))],zn),L($,_)}),I(v);var g=se(v,2);I(f),ie(()=>{N(f,1,i().header),N(v,1,i().days),N(g,1,i().hiddenScroll)}),L(e,f),Ce(),r()}var ca=["forEach","isDisjointFrom","isSubsetOf","isSupersetOf"],fa=["difference","intersection","symmetricDifference","union"],yn=!1,ht,Le,nt,Rt,In;const Pt=class Pt extends Set{constructor(n){super();_t(this,Rt);_t(this,ht,new Map);_t(this,Le,Nt(0));_t(this,nt,Nt(0));if(n){for(var r of n)super.add(r);fe(this,nt).v=super.size}yn||on(this,Rt,In).call(this)}has(n){var r=super.has(n),i=fe(this,ht),o=i.get(n);if(o===void 0){if(!r)return a(fe(this,Le)),!1;o=Nt(!0),i.set(n,o)}return a(o),r}add(n){return super.has(n)||(super.add(n),K(fe(this,nt),super.size),Ht(fe(this,Le))),this}delete(n){var r=super.delete(n),i=fe(this,ht),o=i.get(n);return o!==void 0&&(i.delete(n),K(o,!1)),r&&(K(fe(this,nt),super.size),Ht(fe(this,Le))),r}clear(){if(super.size!==0){super.clear();var n=fe(this,ht);for(var r of n.values())K(r,!1);n.clear(),K(fe(this,nt),0),Ht(fe(this,Le))}}keys(){return this.values()}values(){return a(fe(this,Le)),super.values()}entries(){return a(fe(this,Le)),super.entries()}[Symbol.iterator](){return this.keys()}get size(){return a(fe(this,nt))}};ht=new WeakMap,Le=new WeakMap,nt=new WeakMap,Rt=new WeakSet,In=function(){yn=!0;var n=Pt.prototype,r=Set.prototype;for(const i of ca)n[i]=function(...o){return a(fe(this,Le)),r[i].apply(this,o)};for(const i of fa)n[i]=function(...o){a(fe(this,Le));var s=r[i].apply(this,o);return new Pt(s)}};let Kt=Pt;var va=X("<div></div>"),ha=X("<article><!></article>");function ma(e,t){ke(t,!0);const[n,r]=Me(),i=()=>l(E,"$resources",n),o=()=>l(S,"$eventBackgroundColor",n),s=()=>l(p,"$eventColor",n),c=()=>l(b,"$eventTextColor",n),u=()=>l(te,"$theme",n),m=()=>l(W,"$eventClassNames",n),d=()=>l(R,"$_view",n),M=()=>l(C,"$displayEventEnd",n),f=()=>l(U,"$eventContent",n),v=()=>l(A,"$_intlEventTime",n),g=()=>l(B,"$eventDidMount",n),$=()=>l(T,"$eventClick",n),y=()=>l(z,"$eventMouseEnter",n),_=()=>l(V,"$eventMouseLeave",n);let x=Ne(t,"el",15),h=Ne(t,"classes",3,qt),w=Ne(t,"styles",3,qt),{displayEventEnd:C,eventBackgroundColor:S,eventColor:p,eventContent:U,eventClick:T,eventDidMount:B,eventClassNames:W,eventMouseEnter:z,eventMouseLeave:V,eventTextColor:b,resources:E,theme:te,_view:R,_intlEventTime:A}=Ae("state"),j=k(()=>t.chunk.event),ne=k(()=>t.chunk.event.display),he=k(()=>a(j).backgroundColor??Mr(a(j),i())??o()??s()),me=k(()=>a(j).textColor??Ur(a(j),i())??c()),H=k(()=>nr(w()({"background-color":a(he),color:a(me)})).map(O=>`${O[0]}:${O[1]}`).join(";")),Ke=k(()=>h()([pt(a(ne))?u().bgEvent:u().event,...yr(m(),a(j),d())]).join(" ")),Re=k(()=>gr(t.chunk,M(),f(),u(),v(),d())),Xe=k(()=>wn(a(Re),2)),Qe=k(()=>a(Xe)[0]),De=k(()=>a(Xe)[1]);kn(()=>{ue(g())&&g()({event:rt(a(j)),timeText:a(Qe),el:x(),view:dt(d())})});function le(O,Y){return!Mn(Y)&&ue(O)?ce=>O({event:rt(a(j)),el:x(),jsEvent:ce,view:dt(d())}):void 0}let ye=k(()=>!pt(a(ne))&&le($(),a(ne))||void 0),Be=k(()=>a(ye)&&Zt(a(ye))),Te=k(()=>le(y(),a(ne))),oe=k(()=>le(_(),a(ne)));var Q=ha();Q.__click=function(...O){var Y;(Y=a(ye))==null||Y.apply(this,O)},Q.__keydown=function(...O){var Y;(Y=a(Be))==null||Y.apply(this,O)},Q.__pointerdown=function(...O){var Y;(Y=t.onpointerdown)==null||Y.apply(this,O)};{const O=Y=>{var ce=va();We(ce,(be,at)=>ee==null?void 0:ee(be,at),()=>a(De)),ie(()=>N(ce,1,sn(u().eventBody))),L(Y,ce)};var P=q(Q);{var G=Y=>{var ce=Ee(),be=we(ce);zt(be,()=>t.body,()=>O,()=>a(he),()=>a(me)),L(Y,ce)},re=Y=>{O(Y)};ve(P,Y=>{t.body?Y(G):Y(re,!1)})}I(Q),st(Q,Y=>x(Y),()=>x())}ie(()=>{N(Q,1,sn(a(Ke))),Xt(Q,a(H)),xe(Q,"role",a(ye)?"button":void 0),xe(Q,"tabindex",a(ye)?0:void 0)}),qe("mouseenter",Q,function(...O){var Y;(Y=a(Te))==null||Y.apply(this,O)}),qe("mouseleave",Q,function(...O){var Y;(Y=a(oe))==null||Y.apply(this,O)}),L(e,Q),Ce(),r()}He(["click","keydown","pointerdown"]);function _a(e,t){ke(t,!0);const[n,r]=Me(),i=()=>l(u,"$_iClasses",n),o=()=>l(c,"$_interaction",n);let s=Ne(t,"el",15),{_interaction:c,_iClasses:u}=Ae("state"),m=k(()=>t.chunk.event),d=k(()=>t.chunk.event.display),M=k(()=>$=>i()($,a(m)));function f($){var y,_;return(y=o().action)!=null&&y.draggable($)?x=>{var h,w;return o().action.drag($,x,(h=t.forceDate)==null?void 0:h.call(t),(w=t.forceMargin)==null?void 0:w.call(t))}:(_=o().action)==null?void 0:_.noAction}let v=k(()=>!pt(a(d))&&!Mn(a(d))?f(a(m)):void 0),g=k(()=>o().resizer);ma(e,{get chunk(){return t.chunk},get classes(){return a(M)},get styles(){return t.styles},get onpointerdown(){return a(v)},get el(){return s()},set el(y){s(y)},body:(y,_=Gn)=>{var x=Ee(),h=we(x);{var w=S=>{var p=Ee(),U=we(p);Qt(U,()=>a(g),(T,B)=>{B(T,{get chunk(){return t.chunk},get axis(){return t.axis},get forceDate(){return t.forceDate},get forceMargin(){return t.forceMargin},children:(W,z)=>{var V=Ee(),b=we(V);zt(b,_),L(W,V)},$$slots:{default:!0}})}),L(S,p)},C=S=>{var p=Ee(),U=we(p);zt(U,_),L(S,p)};ve(h,S=>{a(g)?S(w):S(C,!1)})}L(y,x)},$$slots:{body:!0}}),Ce(),r()}function yt(e,t){ke(t,!0);const[n,r]=Me(),i=()=>l(d,"$dayMaxEvents",n),o=()=>l(M,"$_hiddenEvents",n),s=()=>l(f,"$_popupDate",n);let c=Ne(t,"longChunks",19,()=>({})),u=Ne(t,"inPopup",3,!1),m=Ne(t,"dates",19,()=>[]),{dayMaxEvents:d,_hiddenEvents:M,_popupDate:f}=Ae("state"),v=ft(void 0),g=ft(1),$=ft(!1),y=k(()=>t.chunk.event),_=k(()=>t.chunk.event.display),x=k(()=>p=>{if(pt(a(_)))p.width=`calc(${t.chunk.days*100}% + ${t.chunk.days-1}px)`;else{let U=a(g);if(a(y)._margin){let[T,B]=a(y)._margin;t.chunk.date>=B[0]&&t.chunk.date<=B.at(-1)&&(U=T)}p.width=`calc(${t.chunk.days*100}% + ${(t.chunk.days-1)*7}px)`,p["margin-top"]=`${U}px`}return a($)&&(p.visibility="hidden"),p});function h(){K(g,wr(t.chunk,c(),Et(a(v))),!0),i()===!0?w():K($,!1)}function w(){let p=Mt(a(v),2),U=Et(p)-Et(p.firstElementChild)-C(p);K($,t.chunk.bottom>U);let T=!1;for(let B of t.chunk.dates){let W=o()[B.getTime()];if(W){let z=W.size;a($)?W.add(t.chunk.event):W.delete(t.chunk.event),z!==W.size&&(T=!0)}}T&&Z(M,o())}function C(p){let U=0;for(let T=0;T<t.chunk.days&&(U=rr(U,Et(p.lastElementChild)),p=p.nextElementSibling,!!p);++T);return U}_a(e,{get chunk(){return t.chunk},get styles(){return a(x)},axis:"x",forceDate:()=>u()?s():void 0,forceMargin:()=>[vt(a(v)).top-vt(Mt(a(v),1)).top,m()],get el(){return a(v)},set el(p){K(v,p,!0)}});var S=Ce({reposition:h});return r(),S}var ga=X('<div><div><time></time> <a role="button" tabindex="0">&times;</a></div> <div></div></div>');function ya(e,t){ke(t,!0);const[n,r]=Me(),i=()=>l($,"$_popupChunks",n),o=()=>l(g,"$_popupDate",n),s=()=>l(f,"$_interaction",n),c=()=>l(M,"$theme",n),u=()=>l(v,"$_intlDayPopover",n),m=()=>l(d,"$buttonText",n);let{buttonText:d,theme:M,_interaction:f,_intlDayPopover:v,_popupDate:g,_popupChunks:$}=Ae("state"),y=ft(void 0),_=ft("");function x(){let b=Mt(a(y),1),E=Mt(b,3),te=vt(a(y)),R=vt(b),A=vt(E);K(_,"");let j;if(te.width>=A.width){j=A.left-R.left;let he=R.right-A.right;K(_,a(_)+`right:${he}px;`)}else j=(R.width-te.width)/2,R.left+j<A.left?j=A.left-R.left:R.left+j+te.width>A.right&&(j=A.right-R.left-te.width);K(_,a(_)+`left:${j}px;`);let ne;if(te.height>=A.height){ne=A.top-R.top;let he=R.bottom-A.bottom;K(_,a(_)+`bottom:${he}px;`)}else ne=(R.height-te.height)/2,R.top+ne<A.top?ne=A.top-R.top:R.top+ne+te.height>A.bottom&&(ne=A.bottom-R.top-te.height);K(_,a(_)+`top:${ne}px;`)}it(()=>{i(),wt().then(h)});function h(){i().length?x():w()}function w(){Z(g,null),Z($,[])}function C(){var b;w(),(b=s().action)==null||b.noClick()}var S=ga(),p=k(St);S.__pointerdown=function(...b){var E;(E=a(p))==null||E.apply(this,b)};var U=q(S),T=q(U);We(T,(b,E)=>ee==null?void 0:ee(b,E),()=>u().format(o()));var B=se(T,2),W=k(()=>St(w));B.__click=function(...b){var E;(E=a(W))==null||E.apply(this,b)};var z=k(()=>Zt(w));B.__keydown=function(...b){var E;(E=a(z))==null||E.apply(this,b)},I(U);var V=se(U,2);ze(V,5,i,b=>b.event,(b,E)=>{yt(b,{get chunk(){return a(E)},inPopup:!0})}),I(V),I(S),st(S,b=>K(y,b),()=>a(y)),We(S,(b,E)=>At==null?void 0:At(b,E),()=>"pointerdown"),ie(b=>{N(S,1,c().popup),Xt(S,a(_)),N(U,1,c().dayHead),xe(T,"datetime",b),xe(B,"aria-label",m().close),N(V,1,c().events)},[()=>lt(o(),10)]),qe("pointerdownoutside",S,C),L(e,S),Ce(),r()}He(["pointerdown","click","keydown"]);var ba=X("<span></span>"),wa=X("<div><!></div>"),pa=X("<div><!></div>"),Da=X("<!> <!>",1),ka=X('<a role="button" tabindex="0" aria-haspopup="true"></a>'),Ca=X('<div role="cell"><div><time></time> <!></div> <div><!></div> <!> <div><!></div> <!> <div><!></div></div>');function Ta(e,t){ke(t,!0);const[n,r]=Me(),i=()=>l(W,"$_hiddenEvents",n),o=()=>l(E,"$_today",n),s=()=>l(x,"$currentDate",n),c=()=>l(w,"$highlightedDates",n),u=()=>l(U,"$validRange",n),m=()=>l(S,"$moreLinkContent",n),d=()=>l(V,"$_popupDate",n),M=()=>l(T,"$weekNumbers",n),f=()=>l(C,"$firstDay",n),v=()=>l(B,"$weekNumberContent",n),g=()=>l(p,"$theme",n),$=()=>l(te,"$_interaction",n),y=()=>l(z,"$_intlDayCell",n);let _=Ne(t,"iChunks",19,()=>[]),{date:x,dayMaxEvents:h,highlightedDates:w,firstDay:C,moreLinkContent:S,theme:p,validRange:U,weekNumbers:T,weekNumberContent:B,_hiddenEvents:W,_intlDayCell:z,_popupDate:V,_popupChunks:b,_today:E,_interaction:te}=Ae("state"),R=ft(void 0),A=new Kt;$t(()=>{pn(W,$e(i)[t.date.getTime()]=$e(()=>A),$e(i))});let j=[],ne=k(()=>Fe(t.date,o())),he=k(()=>t.date.getUTCMonth()!==s().getUTCMonth()),me=k(()=>c().some(D=>Fe(D,t.date))),H=k(()=>Un(t.date,u())),Ke=k(()=>a(H)?[]:t.bgChunks.filter(D=>Fe(D.date,t.date))),Re=k(()=>{let D=[];if(!a(H))for(let F of t.chunks)Fe(F.date,t.date)&&D.push(F);return D});$t(()=>{a(Re),A.clear()});let Xe=k(()=>{let D="";if(!a(H)&&A.size){let F="+"+A.size+" more";m()?D=ue(m())?m()({num:A.size,text:F}):m():D=F}return D});kn(()=>{$n(a(R),()=>({allDay:!0,date:t.date,resource:void 0,dayEl:a(R),disabled:a(H)}))});function Qe(){Z(V,t.date)}let De=k(()=>d()&&Fe(t.date,d()));$t(()=>{a(Re),t.longChunks,a(De)&&wt().then(le)});function le(){var _e;let D=Je(J(t.date)),F=a(Re).concat(((_e=t.longChunks[t.date.getTime()])==null?void 0:_e.chunks)||[]);Z(b,F.map(de=>Dt({},de,Vt(de.event,t.date,D),{days:1,dates:[t.date]})).sort((de,Ye)=>de.top-Ye.top))}let ye=k(()=>M()&&t.date.getUTCDay()==(f()?1:0)),Be=k(()=>{let D;if(a(ye)){let F=er(t.date,f());v()?D=ue(v())?v()({date:pe(t.date),week:F}):v():D="W"+String(F).padStart(2,"0")}return D});function Te(){a(H)||nn(j,a(Re))}var oe=Ca();oe.__pointerdown=function(...D){var F,_e;(_e=(F=$().action)==null?void 0:F.select)==null||_e.apply(this,D)};var Q=q(oe),P=q(Q);We(P,(D,F)=>ee==null?void 0:ee(D,F),()=>y().format(t.date));var G=se(P,2);{var re=D=>{var F=ba();We(F,(_e,de)=>ee==null?void 0:ee(_e,de),()=>a(Be)),ie(()=>N(F,1,g().weekNumber)),L(D,F)};ve(G,D=>{a(ye)&&D(re)})}I(Q);var O=se(Q,2),Y=q(O);{var ce=D=>{var F=Ee(),_e=we(F);ze(_e,17,()=>a(Ke),de=>de.event,(de,Ye)=>{yt(de,{get chunk(){return a(Ye)}})}),L(D,F)};ve(Y,D=>{a(H)||D(ce)})}I(O);var be=se(O,2);{var at=D=>{var F=Da(),_e=we(F);{var de=ae=>{var Ie=wa(),Ft=q(Ie);yt(Ft,{get chunk(){return _()[2]}}),I(Ie),ie(()=>N(Ie,1,g().events)),L(ae,Ie)};ve(_e,ae=>{_()[2]&&Fe(_()[2].date,t.date)&&ae(de)})}var Ye=se(_e,2);{var Pe=ae=>{var Ie=pa(),Ft=q(Ie);yt(Ft,{get chunk(){return _()[0]}}),I(Ie),ie(()=>N(Ie,1,`${g().events??""} ${g().preview??""}`)),L(ae,Ie)};ve(Ye,ae=>{_()[0]&&Fe(_()[0].date,t.date)&&ae(Pe)})}L(D,F)};ve(be,D=>{a(H)||D(at)})}var ut=se(be,2),Ze=q(ut);{var et=D=>{var F=Ee(),_e=we(F);ze(_e,19,()=>a(Re),de=>de.event,(de,Ye,Pe)=>{st(yt(de,{get chunk(){return a(Ye)},get longChunks(){return t.longChunks},get dates(){return t.dates}}),(ae,Ie)=>j[Ie]=ae,ae=>j==null?void 0:j[ae],()=>[a(Pe)])}),L(D,F)};ve(Ze,D=>{a(H)||D(et)})}I(ut);var tt=se(ut,2);{var Oe=D=>{ya(D,{})};ve(tt,D=>{a(De)&&D(Oe)})}var Ge=se(tt,2),Lt=q(Ge);{var Ln=D=>{var F=ka(),_e=k(()=>St(Qe));F.__click=function(...Pe){var ae;(ae=a(_e))==null||ae.apply(this,Pe)};var de=k(()=>Zt(Qe));F.__keydown=function(...Pe){var ae;(ae=a(de))==null||ae.apply(this,Pe)};var Ye=k(St);F.__pointerdown=function(...Pe){var ae;(ae=a(Ye))==null||ae.apply(this,Pe)},We(F,(Pe,ae)=>ee==null?void 0:ee(Pe,ae),()=>a(Xe)),L(D,F)};ve(Lt,D=>{!a(H)&&A.size&&D(Ln)})}I(Ge),I(oe),st(oe,D=>K(R,D),()=>a(R)),ie((D,F)=>{N(oe,1,`${g().day??""} ${D??""}${a(ne)?" "+g().today:""}${a(he)?" "+g().otherMonth:""}${a(me)?" "+g().highlight:""}${a(H)?" "+g().disabled:""}`),N(Q,1,g().dayHead),xe(P,"datetime",F),N(O,1,g().bgEvents),N(ut,1,g().events),N(Ge,1,g().dayFoot)},[()=>{var D;return(D=g().weekdays)==null?void 0:D[t.date.getUTCDay()]},()=>lt(t.date,10)]),L(e,oe);var Fn=Ce({reposition:Te});return r(),Fn}He(["pointerdown","click","keydown"]);var Ea=X('<div role="row"></div>');function $a(e,t){ke(t,!0);const[n,r]=Me(),i=()=>l(_,"$validRange",n),o=()=>l(M,"$_filteredEvents",n),s=()=>l(g,"$filterEventsWithResources",n),c=()=>l(v,"$resources",n),u=()=>l($,"$hiddenDays",n),m=()=>l(f,"$_iEvents",n),d=()=>l(y,"$theme",n);let{_filteredEvents:M,_iEvents:f,resources:v,filterEventsWithResources:g,hiddenDays:$,theme:y,validRange:_}=Ae("state"),x=[],h=k(()=>hn(t.dates[0],i())),w=k(()=>Je(J(hn(t.dates.at(-1),i())))),C=k(()=>{let b=[],E=[];for(let R of o())if(vn(R,a(h),a(w),s()?c():void 0)){let A=Vt(R,a(h),a(w));pt(R.display)?R.allDay&&E.push(A):b.push(A)}Wt(E,u());let te=Wt(b,u());return[b,E,te]}),S=k(()=>wn(a(C),3)),p=k(()=>a(S)[0]),U=k(()=>a(S)[1]),T=k(()=>a(S)[2]),B=k(()=>m().map(b=>{let E;return b&&vn(b,a(h),a(w))?(E=Vt(b,a(h),a(w)),Wt([E],u())):E=null,E}));function W(){nn(x,t.dates)}var z=Ea();ze(z,21,()=>t.dates,ot,(b,E,te)=>{st(Ta(b,{get date(){return a(E)},get chunks(){return a(p)},get bgChunks(){return a(U)},get longChunks(){return a(T)},get iChunks(){return a(B)},get dates(){return t.dates}}),(R,A)=>x[A]=R,R=>x==null?void 0:x[R],()=>[te])}),I(z),ie(()=>N(z,1,d().days)),L(e,z);var V=Ce({reposition:W});return r(),V}var xa=X("<div><div></div></div>");function Sa(e,t){ke(t,!0);const[n,r]=Me(),i=()=>l(_,"$hiddenDays",n),o=()=>l(f,"$_viewDates",n),s=()=>l(y,"$dayMaxEvents",n),c=()=>l(g,"$_hiddenEvents",n),u=()=>l(v,"$_events",n),m=()=>l(M,"$_bodyEl",n),d=()=>l(x,"$theme",n);let{_bodyEl:M,_viewDates:f,_events:v,_hiddenEvents:g,_recheckScrollable:$,dayMaxEvents:y,hiddenDays:_,theme:x}=Ae("state"),h=[],w=k(()=>7-i().length),C=k(()=>{let T=[];for(let B=0;B<o().length/a(w);++B){let W=[];for(let z=0;z<a(w);++z)W.push(o()[B*a(w)+z]);T.push(W)}return T});$t(()=>{a(C),s(),Z(g,{})});function S(){nn(h,a(C))}it(()=>{u(),c(),s(),$e(S)});var p=xa();qe("resize",Yn,S);var U=q(p);ze(U,21,()=>a(C),ot,(T,B,W)=>{st($a(T,{get dates(){return a(B)}}),(z,V)=>h[V]=z,z=>h==null?void 0:h[z],()=>[W])}),I(U),I(p),st(p,T=>Z(M,T),()=>m()),We(p,(T,B)=>Bt==null?void 0:Bt(T,B),()=>()=>Z($,!0)),ie(()=>{N(p,1,`${d().body??""}${s()===!0?" "+d().uniform:""}`),N(U,1,d().content)}),L(e,p),Ce(),r()}var Ma=X("<!> <!>",1);function Ua(e){var t=Ma(),n=we(t);ua(n,{});var r=se(n,2);Sa(r,{}),L(e,t)}const Ra={createOptions(e){e.dayMaxEvents=!1,e.dayCellFormat={day:"numeric"},e.dayPopoverFormat={month:"long",day:"numeric",year:"numeric"},e.moreLinkContent=void 0,e.weekNumbers=!1,e.weekNumberContent=void 0,e.buttonText.dayGridMonth="month",e.buttonText.close="Close",e.theme.uniform="ec-uniform",e.theme.dayFoot="ec-day-foot",e.theme.popup="ec-popup",e.theme.weekNumber="ec-week-number",e.view="dayGridMonth",e.views.dayGridMonth={buttonText:Cr,component:Ua,dayHeaderFormat:{weekday:"short"},dayHeaderAriaLabelFormat:{weekday:"long"},displayEventEnd:!1,duration:{months:1},theme:Er("ec-day-grid ec-month-view"),titleFormat:{year:"numeric",month:"long"}}},createStores(e){e._days=sa(e),e._intlDayCell=bt(e.locale,e.dayCellFormat),e._intlDayPopover=bt(e.locale,e.dayPopoverFormat),e._hiddenEvents=ge({}),e._popupDate=ge(null),e._popupChunks=ge([])}};He(["pointerdown"]);He(["pointerdown"]);He(["click"]);He(["pointerdown"]);He(["pointerdown"]);He(["click"]);He(["pointerdown"]);var Pa=()=>{localStorage.setItem("budgeter:calendar.firstWeekDay","sun"),window.location.reload()},Ia=()=>{localStorage.setItem("budgeter:calendar.firstWeekDay","mon"),window.location.reload()},La=()=>{localStorage.setItem("budgeter:showWeekNums","false"),window.location.reload()},Fa=()=>{localStorage.setItem("budgeter:showWeekNums","true"),window.location.reload()},Na=X('<div class="grid page" style="margin-top: 2rem; margin-bottom: 10rem;"><div class="content" style="padding-top: 2rem;"><div><a class="button faint"><!> Back</a></div> <p class="center">Select a week report to view</p> <div class="no-child-margin-top no-child-clickable-effect"><!></div> <div style="margin-top: 4rem;"><h4 style="font-weight: normal;">Calendar Settings</h4> <p>First day of the week:</p> <div class="combo-select"><button><!> Sunday</button> <button><!> Monday</button></div> <p>Show week numbers?</p> <div class="combo-select"><button><!> Hide</button> <button><!> Show</button></div></div></div></div>');function ai(e,t){var p,U;ke(t,!0);let n=[];(U=(p=t.data)==null?void 0:p.weeks)==null||U.forEach(T=>{if(T.firstDate&&T.lastDate){const[B,W,z]=T.startDate.split("-"),V=new Date(B,W-1,z),[b,E,te]=T.firstDate.split("-"),R=new Date(b,E-1,te),[A,j,ne]=T.lastDate.split("-"),he=new Date(A,j-1,ne);he.setDate(he.getDate()+1),n.push({title:`Week of ${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][V.getMonth()]} ${V.getDate()}`,start:R,end:he,extendedProps:{startDateYMD:T.startDate}})}console.log(n)});let r=qn({view:"dayGridMonth",events:n,headerToolbar:{start:"title",center:"",end:"prev,next"},eventClick:({event:T})=>{Jn(`${ln}/reports/${T.extendedProps.startDateYMD}`)},eventBackgroundColor:"#242528",firstDay:localStorage.getItem("budgeter:calendar.firstWeekDay")=="mon"?1:0,weekNumbers:localStorage.getItem("budgeter:showWeekNums")=="true"});var i=Na(),o=q(i),s=q(o),c=q(s),u=q(c);jn(u,{}),gt(),I(c),I(s);var m=se(s,4),d=q(m);const M=k(()=>[Ra]);oa(d,{get plugins(){return a(M)},get options(){return r}}),I(m);var f=se(m,2),v=se(q(f),4),g=q(v);N(g,1,`left ${localStorage.getItem("budgeter:calendar.firstWeekDay")=="mon"?"":"selected"}`),g.__click=[Pa];var $=q(g);Tt($,{class:"combo-selected-icon"}),gt(),I(g);var y=se(g,2);N(y,1,`right ${localStorage.getItem("budgeter:calendar.firstWeekDay")=="mon"?"selected":""}`),y.__click=[Ia];var _=q(y);Tt(_,{class:"combo-selected-icon"}),gt(),I(y),I(v);var x=se(v,4),h=q(x);N(h,1,`left ${localStorage.getItem("budgeter:showWeekNums")=="true"?"":"selected"}`),h.__click=[La];var w=q(h);Tt(w,{class:"combo-selected-icon"}),gt(),I(h);var C=se(h,2);N(C,1,`right ${localStorage.getItem("budgeter:showWeekNums")=="true"?"selected":""}`),C.__click=[Fa];var S=q(C);Tt(S,{class:"combo-selected-icon"}),gt(),I(C),I(x),I(f),I(o),I(i),ie(()=>xe(c,"href",ln)),L(e,i),Ce()}He(["click"]);export{ai as component,ri as universal};
