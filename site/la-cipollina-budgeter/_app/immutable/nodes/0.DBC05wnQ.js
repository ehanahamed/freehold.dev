import"../chunks/CWj6FrbW.js";import{o as M,aH as U,a4 as x,b as B,h as S,q as J,z as D,a as G,c as H,U as W,ah as C,E as Z,aI as Q,aJ as V,J as X,g as Y,aK as $,aL as aa,aM as ra,aN as ta,K as ia,n as b,az as R,aA as q,aB as ea,ag as sa,F as na,ai as oa,aj as fa,ak as ca}from"../chunks/mfVSy5e0.js";import{w as va,i as ua,b as z,f as da}from"../chunks/DRmY9tEh.js";import{s as _a}from"../chunks/Bon4znQd.js";import{a as la}from"../chunks/Beg5GpZV.js";function ha(r,a,t){S&&J();var i=r,s=W,e,o=M()?U:x;B(()=>{o(s,s=a())&&(e&&D(e),e=G(()=>t(i)))}),S&&(i=H)}const ya=()=>performance.now(),l={tick:r=>requestAnimationFrame(r),now:()=>ya(),tasks:new Set};function j(){const r=l.now();l.tasks.forEach(a=>{a.c(r)||(l.tasks.delete(a),a.f())}),l.tasks.size!==0&&l.tick(j)}function ma(r){let a;return l.tasks.size===0&&l.tick(j),{promise:new Promise(t=>{l.tasks.add(a={c:r,f:t})}),abort(){l.tasks.delete(a)}}}function N(r,a){va(()=>{r.dispatchEvent(new CustomEvent(a))})}function pa(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const a=r.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function K(r){const a={},t=r.split(";");for(const i of t){const[s,e]=i.split(":");if(!s||e===void 0)break;const o=pa(s.trim());a[o]=e.trim()}return a}const ba=r=>r;function L(r,a,t,i){var s=(r&aa)!==0,e=(r&ra)!==0,o=s&&e,p=(r&$)!==0,E=o?"both":s?"in":"out",h,u=a.inert,w=a.style.overflow,f,n;function y(){var c=ea,T=C;R(null),q(null);try{return h??(h=t()(a,(i==null?void 0:i())??{},{direction:E}))}finally{R(c),q(T)}}var v={is_global:p,in(){var c;if(a.inert=u,!s){n==null||n.abort(),(c=n==null?void 0:n.reset)==null||c.call(n);return}e||f==null||f.abort(),N(a,"introstart"),f=g(a,y(),n,1,()=>{N(a,"introend"),f==null||f.abort(),f=h=void 0,a.style.overflow=w})},out(c){if(!e){c==null||c(),h=void 0;return}a.inert=!0,N(a,"outrostart"),n=g(a,y(),f,0,()=>{N(a,"outroend"),c==null||c()})},stop:()=>{f==null||f.abort(),n==null||n.abort()}},_=C;if((_.transitions??(_.transitions=[])).push(v),s&&la){var m=p;if(!m){for(var d=_.parent;d&&(d.f&Z)!==0;)for(;(d=d.parent)&&(d.f&Q)===0;);m=!d||(d.f&V)!==0}m&&X(()=>{Y(()=>v.in())})}}function g(r,a,t,i,s){var e=i===1;if(ta(a)){var o,p=!1;return ia(()=>{if(!p){var _=a({direction:e?"in":"out"});o=g(r,_,t,i,s)}}),{abort:()=>{p=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(t==null||t.deactivate(),!(a!=null&&a.duration))return s(),{abort:b,deactivate:b,reset:b,t:()=>i};const{delay:E=0,css:h,tick:u,easing:w=ba}=a;var f=[];if(e&&t===void 0&&(u&&u(0,1),h)){var n=K(h(0,1));f.push(n,n)}var y=()=>1-i,v=r.animate(f,{duration:E,fill:"forwards"});return v.onfinish=()=>{v.cancel();var _=(t==null?void 0:t.t())??1-i;t==null||t.abort();var m=i-_,d=a.duration*Math.abs(m),c=[];if(d>0){var T=!1;if(h)for(var A=Math.ceil(d/16.666666666666668),I=0;I<=A;I+=1){var F=_+m*w(I/A),O=K(h(F,1-F));c.push(O),T||(T=O.overflow==="hidden")}T&&(r.style.overflow="hidden"),y=()=>{var k=v.currentTime;return _+m*w(k/d)},u&&ma(()=>{if(v.playState!=="running")return!1;var k=y();return u(k,1-k),!0})}v=r.animate(c,{duration:d,fill:"forwards"}),v.onfinish=()=>{y=()=>i,u==null||u(i,1-i),s()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=b)},deactivate:()=>{s=b},reset:()=>{i===0&&(u==null||u(1,0))},t:()=>y()}}const wa=!1;function Ta({url:r,route:a}){return{transPageKey:r.pathname}}const Oa=Object.freeze(Object.defineProperty({__proto__:null,load:Ta,ssr:wa},Symbol.toStringTag,{value:"Module"})),ka=r=>r;function P(r,{delay:a=0,duration:t=400,easing:i=ka}={}){const s=+getComputedStyle(r).opacity;return{delay:a,duration:t,easing:i,css:e=>`opacity: ${e*s}`}}var Na=da("<div><!></div>");function Sa(r,a){sa(a,!0);var t=ua(),i=na(t);ha(i,()=>a.data.transPageKey,s=>{var e=Na(),o=fa(e);_a(o,()=>a.children),ca(e),L(1,e,()=>P,()=>({duration:140,delay:140})),L(2,e,()=>P,()=>({duration:140})),z(s,e)}),z(r,t),oa()}export{Sa as component,Oa as universal};
