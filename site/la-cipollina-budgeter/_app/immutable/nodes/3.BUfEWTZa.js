import{P as X}from"../chunks/juNQPxT-.js";import{d as g,a as l,t as N}from"../chunks/BiStlCBM.js";import{p as oe,t as p,a as de,a2 as t,a3 as I,a4 as a,a5 as e,o as m}from"../chunks/CuyIZn2s.js";import{s as i}from"../chunks/D1ZQew5F.js";import{i as S}from"../chunks/DI4tddXV.js";import{e as Y,i as z}from"../chunks/nELTDHYw.js";import{s as At}from"../chunks/uNlJViDn.js";import{b as q}from"../chunks/CfXCE_Md.js";import{B as ne}from"../chunks/CxqwulL1.js";import{C as ba}from"../chunks/D7r-EodX.js";import{C as Fa}from"../chunks/MARklwlx.js";import{P as se}from"../chunks/DkuFtbiq.js";import{D as le}from"../chunks/CQiA9PYa.js";import{r as ve,c as me}from"../chunks/CWPmrZZQ.js";import{d as ce}from"../chunks/BepKD6Lw.js";import{d as _e}from"../chunks/zuijxeg2.js";async function he({fetch:Q,params:f}){if(window.localStorage){let W=localStorage.getItem("budgeter:auth");if(!W)return{authed:!1,PUBLIC_API_URL:X,date:f.date};try{const G=await(await Q(`${X}/weeks/${f.date}`,{method:"GET",headers:{Authorization:"Bearer "+W}})).json(),et=await(await Q(`${X}/weeks/${f.date}/days`,{method:"GET",headers:{Authorization:"Bearer "+W}})).json();return{authed:!0,PUBLIC_API_URL:X,date:f.date,week:G,days:et}}catch(G){return console.error("Error while getting data: ",G),{authed:!1,error:!0,PUBLIC_API_URL:X,date:f.date}}}}const Ze=Object.freeze(Object.defineProperty({__proto__:null,load:he},Symbol.toStringTag,{value:"Module"}));var ge=g('<tr><td> </td><td style="white-space: pre-wrap;"> </td></tr>'),ye=g("<tr><td> </td><td> </td><td> </td></tr>"),ue=g('<div class="flex compact-gap text yay" style="align-items: center; align-content: center;"><!> <span>Yes</span></div>'),pe=g('<div class="flex compact-gap text ohno" style="align-items: center; align-content: center;"><!> <span>No</span></div>'),fe=g('<span class="fg0">N/A</span>'),xe=g('<td><span class="fg0">N/A</span></td>'),be=g("<td> </td>"),Fe=g("<tr><td> </td><td><!></td><!><td> </td></tr>"),ke=g('<div><div style="display: inline-block; margin-bottom: 2rem;"><div class="flex" style="justify-content: space-between;"><p>Kitchen Workers <span class="fg0">(Special Pay)</span></p> <p class="fg0"><!></p></div> <table><thead><tr><th>Employee</th><th>Worked Today</th><th>Hours Worked</th><th>Amount Earned</th></tr></thead><tbody><!><tr><th>Total</th><th></th><th></th><th> </th></tr></tbody></table></div></div>'),Se=g("<tr><td> </td><td> </td></tr>"),De=g('<div><div style="display: inline-block; margin-bottom: 2rem;"><div class="flex" style="justify-content: space-between;"><p>Floor Workers <span class="fg0">(Weekly Pay)</span></p> <p class="fg0"><!></p></div> <table style="min-width: 20rem;"><thead><tr><th>Employee</th><th>Amount Earned</th></tr></thead><tbody><!><tr><th>Total</th><th> </th></tr></tbody></table></div></div>'),Ee=g("<tr><td> </td><td> </td><td> </td></tr>"),$e=g('<div class="flex compact-gap text yay" style="align-items: center; align-content: center;"><!> <span>Yes</span></div>'),Le=g('<div class="flex compact-gap text ohno" style="align-items: center; align-content: center;"><!> <span>No</span></div>'),Ue=g('<span class="fg0">N/A</span>'),we=g('<td><span class="fg0">N/A</span></td>'),Be=g("<td> </td>"),We=g("<tr><td> </td><td><!></td><!><td> </td></tr>"),Ae=g('<div><div style="display: inline-block; margin-bottom: 2rem;"><div class="flex" style="justify-content: space-between;"><p>Floor Workers <span class="fg0">(Special Pay)</span></p> <p class="fg0"><!></p></div> <table><thead><tr><th>Employee</th><th>Worked Today</th><th>Hours Worked</th><th>Amount Earned</th></tr></thead><tbody><!><tr><th>Total</th><th></th><th></th><th> </th></tr></tbody></table></div></div>'),Pe=g("<tr><td> </td><td> </td></tr>"),Te=g('<div><div style="display: inline-block; margin-bottom: 2rem;"><div class="flex" style="justify-content: space-between;"><p>Floor Workers <span class="fg0">(Weekly Pay)</span></p> <p class="fg0"><!></p></div> <table style="min-width: 20rem;"><thead><tr><th>Employee</th><th>Amount Earned</th></tr></thead><tbody><!><tr><th>Total</th><th> </th></tr></tbody></table></div></div>'),Ne=g('<div class="grid page" style="margin-top: 4rem; margin-bottom: 10rem;"><div class="content"><div class="flex"><a class="button faint"><!> Back</a></div> <h3 style="margin-bottom: 0px;"> </h3> <p style="margin-top: 0.4rem;"> </p> <div class="flex" style="margin-bottom: 2rem;"><a class="button alt"><!> Edit Day</a> <a class="button alt"><!> View Week Report</a></div> <div><div style="display: inline-block; margin-bottom: 2rem;"><div style="border: 0.2rem solid var(--border); border-radius: 0.8rem; min-width: 18rem;"><table style="border: none;"><thead><tr><th></th><th>Food Budget</th><th>Kitchen Budget</th><th>Floor Budget</th></tr></thead><tbody><tr><td>Day Start</td><td> </td><td> </td><td> </td></tr><tr><td>Increases</td><td> </td><td> </td><td> </td></tr><tr><td>Expenses</td><td> </td><td> </td><td> </td></tr><tr><td>Day Final</td><td> </td><td> </td><td> </td></tr></tbody></table></div></div></div> <div><div style="display: inline-block; margin-bottom: 2rem;"><p>Food Costs</p> <div style="border: 0.2rem solid var(--border); border-radius: 0.8rem; min-width: 18rem;"><table style="border: none;"><thead><tr><th>Expense</th><th>Notes</th></tr></thead><tbody><!><tr><th> </th><th>Total</th></tr></tbody></table></div></div></div> <div><div style="display: inline-block; margin-bottom: 2rem;"><div class="flex" style="justify-content: space-between;"><p>Kitchen Workers</p> <p class="fg0"> </p></div> <table><thead><tr><th>Employee</th><th>Hours Worked</th><th>Amount Earned</th></tr></thead><tbody><!><tr><th>Total</th><th></th><th> </th></tr></tbody></table></div></div> <!> <!> <div><div style="display: inline-block; margin-bottom: 2rem;"><div class="flex" style="justify-content: space-between;"><p>Floor Workers</p> <p class="fg0"> </p></div> <table><thead><tr><th>Employee</th><th>Hours Worked</th><th>Amount Earned</th></tr></thead><tbody><!><tr><th>Total</th><th></th><th> </th></tr></tbody></table></div></div> <!> <!></div></div>');function tr(Q,f){oe(f,!0);const W=(()=>{const[v,d,c]=f.data.date.split("-"),n=new Date(v,d-1,c);if(isNaN(n))window.location=`${q}/days/${f.data.date}/err/invalid-date`;else return n})(),G=ce(W),et=["Sunday","Monday","Tuesday","Wednesday","Thrusday","Friday","Saturday"][W.getDay()];["sun","mon","tue","wed","thu","fri","sat"][W.getDay()];const ka=["January","February","March","April","May","June","July","August","September","October","November","December"][W.getMonth()],Sa=_e(W);let J=[],H;const Pt=parseInt(f.data.date.replaceAll("-",""));f.data.days.forEach(v=>{const d=parseInt(v.date.replaceAll("-",""));d<Pt?J.push(v):d==Pt&&(H=v)}),H||(window.location=`${q}/days/${f.data.date}/err/dayNotFound`);let{foodBudget:Tt,kitchenBudget:Nt,floorBudget:It}=ve(f.data.week.startFoodBudget,f.data.week.startKitchenBudget,f.data.week.startFloorBudget,J,f.data.week.weeklyPay),_=me(Tt,Nt,It,H,(J==null?void 0:J.length)>=1?null:f.data.week.weeklyPay);const Ht=_.foodExpenses,Da=_.totalKitchenHourlyEarned,Ea=_.totalFloorHourlyEarned,$a=_.totalKitchenSpecialEarned,La=_.totalFloorSpecialEarned,Ct=_.floorHourly,Z=_.floorSpecialPay,Kt=_.kitchenHourly,tt=_.kitchenSpecialPay,Ua=_.foodBudgetFinal,wa=_.kitchenBudgetFinal,Ba=_.floorBudgetFinal;var rt=Ne(),jt=t(rt),it=t(jt),ot=t(it),Wa=t(ot);ne(Wa,{}),I(),a(ot),a(it);var dt=e(it,2),Aa=t(dt);a(dt);var nt=e(dt,2),Pa=t(nt);a(nt);var st=e(nt,2),at=t(st),Ta=t(at);se(Ta,{}),I(),a(at);var lt=e(at,2),Na=t(lt);le(Na,{}),I(),a(lt),a(st);var vt=e(st,2),Rt=t(vt),Mt=t(Rt),Yt=t(Mt),zt=e(t(Yt)),mt=t(zt),ct=e(t(mt)),Ia=t(ct);a(ct);var _t=e(ct),Ha=t(_t);a(_t);var Gt=e(_t),Ca=t(Gt);a(Gt),a(mt);var ht=e(mt),gt=e(t(ht)),Ka=t(gt);a(gt);var yt=e(gt),ja=t(yt);a(yt);var Jt=e(yt),Ra=t(Jt);a(Jt),a(ht);var ut=e(ht),pt=e(t(ut)),Ma=t(pt);a(pt);var ft=e(pt),Ya=t(ft);a(ft);var Ot=e(ft),za=t(Ot);a(Ot),a(ut);var Vt=e(ut),xt=e(t(Vt)),Ga=t(xt);a(xt);var bt=e(xt),Ja=t(bt);a(bt);var Xt=e(bt),Oa=t(Xt);a(Xt),a(Vt),a(zt),a(Yt),a(Mt),a(Rt),a(vt);var Ft=e(vt,2),qt=t(Ft),Qt=e(t(qt),2),Zt=t(Qt),ta=e(t(Zt)),aa=t(ta);Y(aa,17,()=>H.foodCosts,z,(v,d)=>{var c=ge(),n=t(c),u=t(n);a(n);var y=e(n),D=t(y,!0);a(y),a(c),p(x=>{i(u,`$${x??""}`),i(D,m(d).notes)},[()=>m(d).cost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]),l(v,c)});var ea=e(aa),ra=t(ea),Va=t(ra);a(ra),I(),a(ea),a(ta),a(Zt),a(Qt),a(qt),a(Ft);var kt=e(Ft,2),ia=t(kt),St=t(ia),oa=e(t(St),2),Xa=t(oa);a(oa),a(St);var da=e(St,2),na=e(t(da)),sa=t(na);Y(sa,17,()=>Kt,z,(v,d)=>{var c=ye(),n=t(c),u=t(n,!0);a(n);var y=e(n),D=t(y,!0);a(y);var x=e(y),b=t(x);a(x),a(c),p(F=>{i(u,m(d).employee.name),i(D,m(d).hours),i(b,`$${F??""}`)},[()=>(m(d).hours*m(d).employee.wage).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]),l(v,c)});var la=e(sa),va=e(t(la),2),qa=t(va);a(va),a(la),a(na),a(da),a(ia),a(kt);var ma=e(kt,2);{var Qa=v=>{var d=ke(),c=t(d),n=t(c),u=e(t(n),2),y=t(u);{var D=r=>{var o=N("1 employee");l(r,o)},x=r=>{var o=N();p(()=>i(o,`${tt.length??""} employees`)),l(r,o)};S(y,r=>{tt.length==1?r(D):r(x,!1)})}a(u),a(n);var b=e(n,2),F=e(t(b)),$=t(F);Y($,17,()=>tt,z,(r,o)=>{var k=Fe(),E=t(k),C=t(E,!0);a(E);var w=e(E),K=t(w);{var j=s=>{var h=ue(),A=t(h);ba(A,{}),I(2),a(h),l(s,h)},$t=(s,h)=>{{var A=B=>{var P=pe(),R=t(P);Fa(R,{}),I(2),a(P),l(B,P)},Bt=(B,P)=>{{var R=M=>{var Wt=fe();l(M,Wt)};S(B,M=>{m(o).workedToday==null&&M(R)},P)}};S(s,B=>{m(o).workedToday===!1?B(A):B(Bt,!1)},h)}};S(K,s=>{m(o).workedToday===!0?s(j):s($t,!1)})}a(w);var O=e(w);{var Lt=s=>{var h=xe();l(s,h)},Ut=s=>{var h=be(),A=t(h,!0);a(h),p(()=>i(A,m(o).hours)),l(s,h)};S(O,s=>{m(o).hours==null?s(Lt):s(Ut,!1)})}var V=e(O),wt=t(V);a(V),a(k),p(s=>{i(C,m(o).employee.name),i(wt,`$${s??""}`)},[()=>m(o).earned.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]),l(r,k)});var L=e($),U=e(t(L),3),T=t(U);a(U),a(L),a(F),a(b),a(c),a(d),p(r=>i(T,`$${r??""}`),[()=>$a.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]),l(v,d)};S(ma,v=>{tt.length>=1&&v(Qa)})}var ca=e(ma,2);{var Za=v=>{var d=De(),c=t(d),n=t(c),u=e(t(n),2),y=t(u);{var D=r=>{var o=N("1 employee");l(r,o)},x=r=>{var o=N();p(()=>i(o,`${_.kitchenWeeklyEmployees.length??""} employees`)),l(r,o)};S(y,r=>{_.kitchenWeeklyEmployees.length==1?r(D):r(x,!1)})}a(u),a(n);var b=e(n,2),F=e(t(b)),$=t(F);Y($,17,()=>_.kitchenWeeklyEmployees,z,(r,o)=>{var k=Se(),E=t(k),C=t(E,!0);a(E);var w=e(E),K=t(w);a(w),a(k),p(j=>{i(C,m(o).name),i(K,`$${j??""}`)},[()=>m(o).weeklyPay.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]),l(r,k)});var L=e($),U=e(t(L)),T=t(U);a(U),a(L),a(F),a(b),a(c),a(d),p(r=>i(T,`$${r??""}`),[()=>_.totalKitchenWeeklyEarned.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]),l(v,d)};S(ca,v=>{_.kitchenWeeklyEmployees.length>=1&&v(Za)})}var Dt=e(ca,2),_a=t(Dt),Et=t(_a),ha=e(t(Et),2),te=t(ha);a(ha),a(Et);var ga=e(Et,2),ya=e(t(ga)),ua=t(ya);Y(ua,17,()=>Ct,z,(v,d)=>{var c=Ee(),n=t(c),u=t(n,!0);a(n);var y=e(n),D=t(y,!0);a(y);var x=e(y),b=t(x);a(x),a(c),p(F=>{i(u,m(d).employee.name),i(D,m(d).hours),i(b,`$${F??""}`)},[()=>(m(d).hours*m(d).employee.wage).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]),l(v,c)});var pa=e(ua),fa=e(t(pa),2),ae=t(fa);a(fa),a(pa),a(ya),a(ga),a(_a),a(Dt);var xa=e(Dt,2);{var ee=v=>{var d=Ae(),c=t(d),n=t(c),u=e(t(n),2),y=t(u);{var D=r=>{var o=N("1 employee");l(r,o)},x=r=>{var o=N();p(()=>i(o,`${Z.length??""} employees`)),l(r,o)};S(y,r=>{Z.length==1?r(D):r(x,!1)})}a(u),a(n);var b=e(n,2),F=e(t(b)),$=t(F);Y($,17,()=>Z,z,(r,o)=>{var k=We(),E=t(k),C=t(E,!0);a(E);var w=e(E),K=t(w);{var j=s=>{var h=$e(),A=t(h);ba(A,{}),I(2),a(h),l(s,h)},$t=(s,h)=>{{var A=B=>{var P=Le(),R=t(P);Fa(R,{}),I(2),a(P),l(B,P)},Bt=(B,P)=>{{var R=M=>{var Wt=Ue();l(M,Wt)};S(B,M=>{m(o).workedToday==null&&M(R)},P)}};S(s,B=>{m(o).workedToday===!1?B(A):B(Bt,!1)},h)}};S(K,s=>{m(o).workedToday===!0?s(j):s($t,!1)})}a(w);var O=e(w);{var Lt=s=>{var h=we();l(s,h)},Ut=s=>{var h=Be(),A=t(h,!0);a(h),p(()=>i(A,m(o).hours)),l(s,h)};S(O,s=>{m(o).hours==null?s(Lt):s(Ut,!1)})}var V=e(O),wt=t(V);a(V),a(k),p(s=>{i(C,m(o).employee.name),i(wt,`$${s??""}`)},[()=>m(o).earned.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]),l(r,k)});var L=e($),U=e(t(L),3),T=t(U);a(U),a(L),a(F),a(b),a(c),a(d),p(r=>i(T,`$${r??""}`),[()=>La.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]),l(v,d)};S(xa,v=>{Z.length>=1&&v(ee)})}var re=e(xa,2);{var ie=v=>{var d=Te(),c=t(d),n=t(c),u=e(t(n),2),y=t(u);{var D=r=>{var o=N("1 employee");l(r,o)},x=r=>{var o=N();p(()=>i(o,`${_.floorWeeklyEmployees.length??""} employees`)),l(r,o)};S(y,r=>{_.floorWeeklyEmployees.length==1?r(D):r(x,!1)})}a(u),a(n);var b=e(n,2),F=e(t(b)),$=t(F);Y($,17,()=>_.floorWeeklyEmployees,z,(r,o)=>{var k=Pe(),E=t(k),C=t(E,!0);a(E);var w=e(E),K=t(w);a(w),a(k),p(j=>{i(C,m(o).name),i(K,`$${j??""}`)},[()=>m(o).weeklyPay.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]),l(r,k)});var L=e($),U=e(t(L)),T=t(U);a(U),a(L),a(F),a(b),a(c),a(d),p(r=>i(T,`$${r??""}`),[()=>_.totalFloorWeeklyEarned.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]),l(v,d)};S(re,v=>{_.floorWeeklyEmployees.length>=1&&v(ie)})}a(jt),a(rt),p((v,d,c,n,u,y,D,x,b,F,$,L,U,T,r,o,k)=>{At(ot,"href",q),i(Aa,`${et??""}'s Report`),i(Pa,`${ka??""} ${v??""}, ${d??""}${localStorage.getItem("budgeter:showWeekNums")=="true"?`, W${Sa}`:""}`),At(at,"href",`${q??""}/edit-day/${G??""}`),At(lt,"href",`${q??""}/reports/${G??""}`),i(Ia,`$${c??""}`),i(Ha,`$${n??""}`),i(Ca,`$${u??""}`),i(Ka,`+$${y??""}`),i(ja,`+$${D??""}`),i(Ra,`+$${x??""}`),i(Ma,`-$${b??""}`),i(Ya,`-$${F??""}`),i(za,`-$${$??""}`),i(Ga,`$${L??""}`),i(Ja,`$${U??""}`),i(Oa,`$${T??""}`),i(Va,`$${r??""}`),i(Xa,`${Kt.length??""} employees`),i(qa,`$${o??""}`),i(te,`${Ct.length??""} employees`),i(ae,`$${k??""}`)},[()=>W.getDate(),()=>W.getFullYear(),()=>Tt.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),()=>Nt.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),()=>It.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),()=>(H.foodBudgetIncrease??0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),()=>(H.kitchenBudgetIncrease??0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),()=>(H.floorBudgetIncrease??0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),()=>Ht.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),()=>_.kitchenExpenses.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),()=>_.floorExpenses.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),()=>Ua.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),()=>wa.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),()=>Ba.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),()=>Ht.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),()=>Da.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),()=>Ea.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]),l(Q,rt),de()}export{tr as component,Ze as universal};
