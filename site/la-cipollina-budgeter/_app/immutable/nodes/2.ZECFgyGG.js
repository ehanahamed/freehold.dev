import{P as T}from"../chunks/juNQPxT-.js";import"../chunks/CWj6FrbW.js";import{o as $}from"../chunks/BEVvET_K.js";import{p as A,J as D,t as x,m as J,V as y,al as L,aj as e,ak as t,I as r,j as h}from"../chunks/IxQyQIcf.js";import{d as M,c as U,a as S}from"../chunks/DVTOwQtX.js";import{i as q}from"../chunks/BOmNJQeE.js";import{s as i,r as j}from"../chunks/D8nEQqp6.js";import{b as C}from"../chunks/t4jK5Smt.js";import{b as s}from"../chunks/C6UUdrry.js";async function z(){return{authed:!1,PUBLIC_API_URL:T}}const ta=Object.freeze(Object.defineProperty({__proto__:null,load:z},Symbol.toStringTag,{value:"Module"}));var N=U('<div class="flex center"><div class="flex center no-child-clickable-effect" style="flex-direction: column;"><div class="combo-buttons"><a class="button left">Edit Budget</a> <a class="button mid">Run Day</a> <a class="button right">Edit Day</a></div> <a class="button">Reports</a> <a class="button">Employees</a> <a class="button">Settings</a></div></div>'),V=async function(w,b,v,c,p){try{const a=await(await fetch(b.data.PUBLIC_API_URL+"/log-in",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:h(v),password:h(c)})})).json();a!=null&&a.token?(localStorage.setItem("auth",a.token),y(p,!0)):(console.log(a),alert("wrong password?"))}catch(a){console.error("Error in log-in req: ",a),alert("There was an error while logging in :( try again mabye")}},F=U('<div style="margin-top: 2rem;"><div class="grid thin-centered"><div class="content"><div class="separator">Login</div> <div><input type="text" placeholder="Username"/></div> <div><input type="password" placeholder="Password"/></div> <div class="flex"><button>Continue</button></div></div></div></div>'),G=U('<div class="img-container svelte-1phm8y1"><img alt="La Cipollina"/></div> <p class="h4 header-text svelte-1phm8y1">Budgeter</p> <!>',1);function ra(w,b){A(b,!0);let v=L(!1),c=L(""),p=L("");$(function(){window.localStorage&&localStorage.getItem("auth")&&y(v,!0)});var a=G(),P=D(a),B=e(P);t(P);var R=r(P,4);{var E=l=>{var o=N(),u=e(o),n=e(u),d=e(n),f=r(d,2),m=r(f,2);t(n);var _=r(n,2),g=r(_,2),I=r(g,2);t(u),t(o),x(()=>{i(d,"href",`${s??""}/edit-budget`),i(f,"href",`${s??""}/run-day`),i(m,"href",`${s??""}/edit-day`),i(_,"href",`${s??""}/reports`),i(g,"href",`${s??""}/employees`),i(I,"href",`${s??""}/settings`)}),S(l,o)},O=l=>{var o=F(),u=e(o),n=e(u),d=r(e(n),2),f=e(d);j(f),t(d);var m=r(d,2),_=e(m);j(_),t(m);var g=r(m,2),I=e(g);I.__click=[V,b,c,p,v],t(g),t(n),t(u),t(o),C(f,()=>h(c),k=>y(c,k)),C(_,()=>h(p),k=>y(p,k)),S(l,o)};q(R,l=>{h(v)?l(E):l(O,!1)})}x(()=>i(B,"src",`${s??""}/logo.png`)),S(w,a),J()}M(["click"]);export{ra as component,ta as universal};
